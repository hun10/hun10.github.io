<!DOCTYPE html>
<html>
  <head>
    <title>Monads</title>
    <script src="parser.js"></script>
    <script src="compiler.js"></script>
  </head>

  <body>
    <div id="out" />
  </body>

  <script>
    function lang(t, ...r) {
      return compile(parse(String.raw(t, ...r))[0]);
    }

    const src = lang`
(\f \x x f) (\f \x x f) \let

let (\a \j \n j a) \pure
let (\j \n n) \none
let (\m \f m (\a f a) none) \bind

let (pure 9) \a
let (none) \b

(
bind a \x
bind a \y
pure y)

(\x x) false

    `;

    const out = document.getElementById("out");
    out.textContent = src;
  </script>
</html>
